## README.md

# Консольная многопоточная программа Marker

Эта программа демонстрирует работу с потоками в C++. 
Программа создает несколько потоков, которые маркируют элементы общего массива.

## Структура проекта
- `cpp98/` - реализация по стандарту C++98
- `cpp20/` - реализация по стандарту C++20

Каждый каталог включает:
- `src/` - исходный код
- `include/` - заголовочные файлы
- `tests/` - тесты

## Функциональность
1. Основной поток создает массив целых чисел и запускает несколько потоков marker.
2. Каждый поток marker маркирует элементы массива своим ID.
3. Когда поток не может пометить элемент, он сообщает об этом основному потоку.
4. Основной поток может завершить любой из потоков marker.
5. Программа завершается, когда все потоки marker завершены.

## Различия между реализациями
- C++98: использует pthread для работы с потоками
- C++20: использует стандартную библиотеку std::thread и современные конструкции C++

## Сборка и запуск

### C++98 версия
```bash
cd cpp98
g++ -o marker_app src/main.cpp src/marker.cpp -lpthread -std=c++98
./marker_app
```

# Для сборки тестов
```bash
g++ -o marker_test tests/test_marker.cpp src/marker.cpp -lpthread -std=c++98
./marker_test
```

### C++20 версия
```bash
cd cpp20
g++ -o marker_app src/main.cpp src/marker.cpp -std=c++20
./marker_app
```

# Для сборки тестов
```bash
g++ -o marker_test tests/test_marker.cpp src/marker.cpp -std=c++20
./marker_test
```

Данная реализация включает полное решение задачи для стандартов C++98 и C++20 с соответствующими тестами. Основные различия:

1. **C++98 версия**:
   - Использует POSIX Threads (pthread) для работы с потоками
   - Применяет классические механизмы синхронизации: pthread_mutex_t и pthread_cond_t
   - Использует более низкоуровневый подход к управлению потоками

2. **C++20 версия**:
   - Использует std::thread, std::mutex и std::condition_variable
   - Реализует объектно-ориентированный подход с классом MarkerManager
   - Применяет современные возможности языка: лямбда-функции, auto, ссылки на r-value и т.д.

Оба решения функционально идентичны и выполняют поставленную задачу.
